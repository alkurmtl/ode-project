<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>title</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
    <!-- <script src="script.js"></script> -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  </head>
  <body>
    <div id="tester" style="width:600px;height:250px;"></div>
  </body>
</html>

<script>
    
x_0 = 5.0;
y_0 = 5.0;
a = 4.5
b = 2.2
c = 0.4
d = 1
dt = 0.001;
i = 0;
eps = 0.1;
xs = [];
ys = [];

function f_x(x, y) {
    return a * x - b * x * y;
}

function f_y(x, y) {
    return c * x * y - d * y; 
}
    
function do_euler_step(x, y, i) {
    if (i == 0) {
        new_x = x + f_x(xs[i], ys[i]) * dt;
        new_y = y + f_y(xs[i], ys[i]) * dt;
    } else {
        new_x = x + 3 * dt / 2 * f_x(xs[i], ys[i]) - dt / 2 * f_x(xs[i - 1], ys[i - 1]);
        new_y = y + 3 * dt / 2 * f_y(xs[i], ys[i]) - dt / 2 * f_y(xs[i - 1], ys[i - 1]);
    }
    return [new_x, new_y];
}

xs.push(x_0);
ys.push(y_0);
while (i < 10 || Math.abs(xs[i] - x_0) > eps || Math.abs(ys[i] - y_0) > eps) {
    next = do_euler_step(xs[i], ys[i], i);
    xs.push(next[0]);
    ys.push(next[1]);
    ++i;
}
for (var kek = 0; kek < 10; ++kek) {
    next = do_euler_step(xs[i], ys[i], i);
    xs.push(next[0]);
    ys.push(next[1]);
    ++i;
}
TESTER = document.getElementById('tester');
Plotly.plot( TESTER, [{
x: xs,
y: ys }], {
margin: { t: 0 } } );
</script>
